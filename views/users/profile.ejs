<%- include("../layout/header") %>
<!-- Navbar -->
<%- include("../layout/navbar") %>
<!-- css -->
<link rel="stylesheet" href="/css/userProfile.css">

<!-- breadcrumb -->
<div class="container p-t-75">
    <div class="bread-crumb flex-w p-l-25 p-r-15 p-t-30 p-lr-0-lg">
        <a href="/" class="stext-109 cl8 hov-cl1 trans-04">
            Home
            <i class="fa fa-angle-right m-l-9 m-r-10" aria-hidden="true"></i>
        </a>
        <span class="stext-109 cl4">
            Profile
        </span>
    </div>
</div>

<div class="container pb-lg-5" style="width: 65%">
    <div class="row justify-content-center">
        <div class="col-lg-8">  
            <div class="card" id="customerProfileCard">
                <div class="card-body">

                    <!-- User Profile Information -->
                    <div class="text-center mb-4">
                        <h4 class="mt-3"><%= user.name %></h4><br>
                        <p><strong class="customeremailptag"> Email :</strong> <%= user.email %></p>
                        <% if (!user.isGoogleAuth) { %>
                        <p><strong class="customerphoneptag"> Phone :</strong> <%= user.phone %></p>
                        <% } %>
                    </div>

                    <!-- Profile Links -->
                    <div class="mt-5">
                        <div class="mb-4">
                            <a href="/address" id="manageAddressBtn" class="btn btn-secondary w-100">Manage Address</a>
                        </div>
                        <div class="mb-4">
                            <a href="#" id="editProfileBtn" class="btn btn-secondary w-100">Edit Profile</a>
                        </div>
                        <div class="mb-4">
                            <a href="#" id="myOrdersBtn" class="btn btn-secondary w-100">My Orders</a>
                        </div>
                        <% if (!user.isGoogleAuth) { %>
                        <div class="mb-4">
                            <a href="#" id="walletBtn" class="btn btn-secondary w-100">Change Password</a>
                        </div>
                        <% } %>
                        <div class="mb-2">
                            <a href="#" id="signOutBtn" class="btn btn-danger w-100">Sign Out</a>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</div>
    
<%- include("../layout/footer.ejs") %>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

<script>
    document.getElementById('signOutBtn').addEventListener('click', function() {
        Swal.fire({
            title: 'Are you sure?',
            text: "You will be logged out!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '',
            confirmButtonText: 'Yes, log me out!'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = '/logout';
            }
        });
    });
</script>